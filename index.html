<!DOCTYPE html>
<html lang="en">
<head>
  <!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-LZZGYHD65N"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-LZZGYHD65N');
</script>
<meta charset="UTF-8">
<title>Hacker Guess Game</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{
  margin:0;
  background:black;
  color:#00ff88;
  font-family: monospace;
  display:flex;
  justify-content:center;
  align-items:center;
  height:100vh;
}
#game{
  width:95%;
  max-width:420px;
  text-align:center;
  border:1px solid #00ff88;
  padding:20px;
}
h1{margin:5px 0;}
input{
  width:100%;
  padding:12px;
  font-size:18px;
  background:black;
  color:#00ff88;
  border:1px solid #00ff88;
}
#feedback{margin-top:15px;min-height:30px;}
#session{opacity:0.7;font-size:14px;}
canvas{
  position:fixed;
  inset:0;
  z-index:-1;
}
</style>
</head>

<body>
<canvas id="matrix"></canvas>

<div id="game">
  <h1>ðŸ”¥ FIREWALL BREACH</h1>
  <div id="level"></div>
  <div id="timer"></div>
  <input id="guess" type="number" placeholder="Enter IP Address">
  <div id="feedback"></div>
  <div id="session"></div>
</div>

<script>
const input = document.getElementById("guess");
const feedback = document.getElementById("feedback");
const sessionDiv = document.getElementById("session");
const levelDiv = document.getElementById("level");
const timerDiv = document.getElementById("timer");

let level = 1;
let range = 100;
let time = 30;
let target = Math.floor(Math.random()*range)+1;
let player = "A";
let timer;

function start(){
  target = Math.floor(Math.random()*range)+1;
  levelDiv.textContent = `LEVEL ${level} | RANGE 1-${range}`;
  startTimer();
}

function startTimer(){
  let t = time;
  timerDiv.textContent = `TIME ${t}s`;
  clearInterval(timer);
  timer = setInterval(()=>{
    t--;
    timerDiv.textContent = `TIME ${t}s`;
    if(t<=0){
      switchTurn();
    }
  },1000);
}

function switchTurn(){
  clearInterval(timer);
  player = player==="A"?"B":"A";
  sessionDiv.textContent = `SESSION SWITCHED â†’ PLAYER ${player}`;
  setTimeout(start,1000);
}

input.addEventListener("keydown",e=>{
  if(e.key==="Enter"){
    const val = Number(input.value);
    input.value="";

    if(val===67) matrix67();

    if(val>target){
      feedback.textContent = `IP TOO HIGH â†’ ${val} (Player ${player})`;
    }else if(val<target){
      feedback.textContent = `IP TOO LOW â†’ ${val} (Player ${player})`;
    }else{
      feedback.textContent = `ðŸ”¥ FIREWALL BREACHED BY PLAYER ${player}`;
      clearInterval(timer);
      level++;
      range*=10;
      time+=30;
      setTimeout(start,2000);
      return;
    }
    switchTurn();
  }
});

/* MATRIX */
const c=document.getElementById("matrix");
const ctx=c.getContext("2d");
c.width=innerWidth;c.height=innerHeight;
let drops=Array(200).fill(0);
function drawMatrix(char){
  ctx.fillStyle="rgba(0,0,0,0.1)";
  ctx.fillRect(0,0,c.width,c.height);
  ctx.fillStyle="#00ff88";
  drops.forEach((y,i)=>{
    ctx.fillText(char||Math.random()>0.5?"1":"0",i*10,y);
    drops[i]=(y>c.height)?0:y+10;
  });
}
setInterval(()=>drawMatrix(),50);

function matrix67(){
  let start=Date.now();
  let flood=setInterval(()=>{
    drawMatrix("67");
    if(Date.now()-start>10000) clearInterval(flood);
  },30);
}

start();
</script>
</body>
</html>
