<!DOCTYPE html>
<html lang="en">
<head>
  <!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-LZZGYHD65N"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-LZZGYHD65N');
</script>
<meta charset="UTF-8">
<title>Hacker Guess Game</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
*{margin:0;padding:0;box-sizing:border-box;font-family:monospace}
body{background:black;overflow:hidden;color:#0f0}
canvas{position:fixed;top:0;left:0;z-index:-1}

.panel{
  position:absolute;
  top:50%;left:50%;
  transform:translate(-50%,-50%);
  width:90%;max-width:380px;
  background:rgba(0,0,0,.75);
  border:1px solid #0f0;
  padding:18px;
  text-align:center;
  box-shadow:0 0 18px rgba(0,255,0,.6);
}

h1{margin-bottom:6px}
.mode button{
  width:48%;
  padding:10px;
  margin:5px 1%;
  background:black;
  color:#0f0;
  border:1px solid #0f0;
}

.info,.turn,.timer,.status{
  margin-top:8px;
  font-size:14px;
}
.status{min-height:28px}

input{
  width:100%;
  padding:14px;
  margin-top:10px;
  font-size:18px;
  background:black;
  border:1px solid #0f0;
  color:#0f0;
  text-align:center;
}

.micro{
  animation:micro .12s linear;
}
@keyframes micro{
  0%{filter:none}
  50%{filter:brightness(1.3)}
  100%{filter:none}
}

.hidden{display:none}
</style>
</head>

<body>
<canvas id="matrix"></canvas>

<div class="panel" id="menu">
  <h1>FIREWALL.EXE</h1>
  <div class="mode">
    <button onclick="start('solo')">SOLO</button>
    <button onclick="start('duo')">DUO</button>
  </div>
</div>

<div class="panel hidden" id="game">
  <h1>FIREWALL BREACH</h1>
  <div class="info" id="info"></div>
  <div class="turn" id="turn"></div>
  <div class="timer" id="timer"></div>
  <div class="status" id="status"></div>
  <input id="input" inputmode="numeric" placeholder="ENTER IP">
</div>

<script>
/* MATRIX */
const c=document.getElementById("matrix"),x=c.getContext("2d");
c.width=innerWidth;c.height=innerHeight;
let drops=Array(Math.floor(c.width/15)).fill(1);
let override=null;

setInterval(()=>{
  x.fillStyle="rgba(0,0,0,0.08)";
  x.fillRect(0,0,c.width,c.height);
  x.fillStyle="#0f0";
  x.font="15px monospace";
  drops.forEach((y,i)=>{
    let t=override||Math.floor(Math.random()*10);
    x.fillText(t,i*15,y*15);
    if(y*15>c.height&&Math.random()>0.975)drops[i]=0;
    drops[i]++;
  });
},33);

/* GAME */
let mode,level,player,secret,max,time,timer;
const menu=document.getElementById("menu");
const game=document.getElementById("game");
const info=document.getElementById("info");
const turn=document.getElementById("turn");
const timerEl=document.getElementById("timer");
const status=document.getElementById("status");
const input=document.getElementById("input");

function start(m){
  mode=m;level=1;player="A";
  menu.classList.add("hidden");
  game.classList.remove("hidden");
  nextLevel();
}

function nextLevel(){
  max=Math.pow(10,level+1); // starts at 100
  secret=Math.floor(Math.random()*max)+1;
  time=level*30;
  updateUI("INITIATING FIREWALL BREACH…");
  startTimer();
}

function updateUI(msg){
  info.innerText=`LEVEL ${level} | RANGE 1-${max}`;
  turn.innerText=mode==="duo"?`PLAYER ${player}`:"";
  status.innerText=msg;
}

function startTimer(){
  clearInterval(timer);
  timerEl.innerText=`TIME ${time}s`;
  timer=setInterval(()=>{
    time--;
    timerEl.innerText=`TIME ${time}s`;
    if(time<=0)switchTurn();
  },1000);
}

function microGlitch(){
  game.classList.add("micro");
  setTimeout(()=>game.classList.remove("micro"),120);
}

function switchTurn(){
  clearInterval(timer);
  if(mode==="duo"){
    player=player==="A"?"B":"A";
    time=level*30;
    updateUI("SESSION SWITCHED");
    startTimer();
  }else{
    level=1;
    nextLevel();
  }
}

function win(){
  clearInterval(timer);
  status.innerText=
    mode==="duo"
    ?`PLAYER ${player} → FIREWALL BREACHED`
    :"FIREWALL BREACHED";
  setTimeout(()=>{
    level++;
    nextLevel();
  },1500);
}

input.addEventListener("keydown",e=>{
  if(e.key==="Enter"){
    let v=Number(input.value);
    input.value="";
    if(!v)return;

    if(v===67){
      override="67";
      setTimeout(()=>override=null,10000);
    }

    microGlitch();

    if(v===secret){win();return;}

    let result=v>secret?"IP TOO HIGH":"IP TOO LOW";

    status.innerText=
      mode==="duo"
      ?`PLAYER ${player} → ${v}\n${result}`
      :`${v} → ${result}`;

    if(mode==="duo")switchTurn();
  }
});
</script>
</body>
</html>


