<!DOCTYPE html>
<html lang="en">
<head>
  <!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-LZZGYHD65N"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-LZZGYHD65N');
</script>
<meta charset="UTF-8">
<title>Hacker Guess Game</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
body{
  margin:0;
  background:black;
  color:#00ff88;
  font-family:monospace;
  display:flex;
  justify-content:center;
  align-items:center;
  height:100vh;
  overflow:hidden;
}
#game{
  width:95%;
  max-width:420px;
  border:1px solid #00ff88;
  padding:20px;
  text-align:center;
  background:rgba(0,0,0,0.6);
}
h1{margin:5px 0;}
#info{margin:8px 0;}
input{
  width:100%;
  padding:12px;
  font-size:18px;
  background:black;
  color:#00ff88;
  border:1px solid #00ff88;
  outline:none;
}
#feedback{
  margin-top:15px;
  min-height:32px;
}
canvas{
  position:fixed;
  inset:0;
  z-index:-1;
}
</style>
</head>

<body>
<canvas id="matrix"></canvas>

<div id="game">
  <h1>ðŸ”¥ FIREWALL BREACH</h1>
  <div id="info"></div>
  <div id="timer"></div>
  <input id="guess" type="number" placeholder="Enter IP Address">
  <div id="feedback"></div>
</div>

<script>
const input = document.getElementById("guess");
const feedback = document.getElementById("feedback");
const info = document.getElementById("info");
const timerDiv = document.getElementById("timer");

let level = 1;
let range = 100;
let timeLimit = 30;
let target;
let timer;

function startLevel(){
  target = Math.floor(Math.random()*range)+1;
  info.textContent = `LEVEL ${level} | RANGE 1â€“${range}`;
  feedback.textContent = "Breaching firewall...";
  startTimer();
}

function startTimer(){
  clearInterval(timer);
  let t = timeLimit;
  timerDiv.textContent = `TIME ${t}s`;
  timer = setInterval(()=>{
    t--;
    timerDiv.textContent = `TIME ${t}s`;
    if(t<=0){
      fail();
    }
  },1000);
}

function success(){
  clearInterval(timer);
  feedback.textContent = "ðŸ”¥ ACCESS GRANTED";
  level++;
  range *= 10;
  timeLimit += 30;
  setTimeout(startLevel,2000);
}

function fail(){
  clearInterval(timer);
  feedback.textContent = "âŒ FIREWALL RESET";
  setTimeout(startLevel,2000);
}

input.addEventListener("keydown",e=>{
  if(e.key==="Enter"){
    const val = Number(input.value);
    input.value="";

    if(!val) return;

    if(val===67) matrix67();

    if(val > target){
      feedback.textContent = `IP TOO HIGH â†’ ${val}`;
    }else if(val < target){
      feedback.textContent = `IP TOO LOW â†’ ${val}`;
    }else{
      success();
      return;
    }
  }
});

/* MATRIX BACKGROUND */
const c = document.getElementById("matrix");
const ctx = c.getContext("2d");
c.width = innerWidth;
c.height = innerHeight;
let drops = Array(200).fill(0);

function drawMatrix(char){
  ctx.fillStyle="rgba(0,0,0,0.15)";
  ctx.fillRect(0,0,c.width,c.height);
  ctx.fillStyle="#00ff88";
  ctx.font="14px monospace";
  drops.forEach((y,i)=>{
    const text = char || (Math.random()>0.5?"1":"0");
    ctx.fillText(text,i*10,y);
    drops[i] = y > c.height ? 0 : y + 10;
  });
}
setInterval(()=>drawMatrix(),50);

function matrix67(){
  let start = Date.now();
  let flood = setInterval(()=>{
    drawMatrix("67");
    if(Date.now()-start>10000) clearInterval(flood);
  },30);
}

startLevel();
</script>
</body>
</html>
